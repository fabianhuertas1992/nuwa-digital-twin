"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_components_map_MapViewer_tsx",{

/***/ "(app-pages-browser)/./components/map/MapViewer.tsx":
/*!**************************************!*\
  !*** ./components/map/MapViewer.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MapViewer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mapbox-gl */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mapbox_mapbox_gl_draw__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mapbox/mapbox-gl-draw */ \"(app-pages-browser)/./node_modules/@mapbox/mapbox-gl-draw/index.js\");\n/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mapbox-gl/dist/mapbox-gl.css */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.css\");\n/* harmony import */ var _mapbox_mapbox_gl_draw_dist_mapbox_gl_draw_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css */ \"(app-pages-browser)/./node_modules/@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction MapViewer(param) {\n    let { onPolygonCreated, initialPolygon, center = [\n        -75.0639,\n        4.9214\n    ], zoom = 14, showDrawControls = true, className = \"w-full h-[500px]\" } = param;\n    _s();\n    const mapContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const draw = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapContainer.current || map.current) return;\n        const token = \"pk.eyJ1IjoiZmFiaWRyZXMzIiwiYSI6ImNta2V2bTA0eTBjN2szZG9menZ3NmgwZXQifQ.msAV7didLz0VIhM4kiAAjA\";\n        if (!token) {\n            console.error(\"NEXT_PUBLIC_MAPBOX_TOKEN not set\");\n            return;\n        }\n        (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().accessToken) = token;\n        map.current = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Map)({\n            container: mapContainer.current,\n            style: \"mapbox://styles/mapbox/satellite-streets-v12\",\n            center: center,\n            zoom: zoom\n        });\n        // Add navigation controls\n        map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().NavigationControl)(), \"top-right\");\n        map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().ScaleControl)(), \"bottom-left\");\n        // Add drawing tools if enabled\n        if (showDrawControls) {\n            draw.current = new _mapbox_mapbox_gl_draw__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                displayControlsDefault: false,\n                controls: {\n                    polygon: true,\n                    trash: true\n                },\n                defaultMode: \"simple_select\"\n            });\n            map.current.addControl(draw.current, \"top-left\");\n            // Handle polygon creation\n            map.current.on(\"draw.create\", (e)=>{\n                const feature = e.features[0];\n                if (feature && feature.geometry.type === \"Polygon\" && onPolygonCreated) {\n                    onPolygonCreated(feature.geometry);\n                }\n            });\n            map.current.on(\"draw.update\", (e)=>{\n                const feature = e.features[0];\n                if (feature && feature.geometry.type === \"Polygon\" && onPolygonCreated) {\n                    onPolygonCreated(feature.geometry);\n                }\n            });\n        }\n        map.current.on(\"load\", ()=>{\n            setMapLoaded(true);\n        });\n        return ()=>{\n            var _map_current;\n            (_map_current = map.current) === null || _map_current === void 0 ? void 0 : _map_current.remove();\n            map.current = null;\n        };\n    }, []);\n    // Load initial polygon when map is loaded\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!mapLoaded || !initialPolygon || !map.current) return;\n        // Extract geometry - handle both Feature and direct Polygon types\n        let geometry;\n        let featureData;\n        if (\"geometry\" in initialPolygon && initialPolygon.geometry) {\n            // It's a Feature type\n            geometry = initialPolygon.geometry;\n            featureData = initialPolygon;\n        } else if (\"coordinates\" in initialPolygon) {\n            // It's a direct Polygon type\n            geometry = initialPolygon;\n            featureData = {\n                type: \"Feature\",\n                properties: {},\n                geometry: geometry\n            };\n        } else {\n            console.error(\"Invalid polygon format\");\n            return;\n        }\n        // Validate coordinates exist\n        if (!geometry.coordinates || !geometry.coordinates[0] || geometry.coordinates[0].length === 0) {\n            console.error(\"Invalid polygon coordinates\");\n            return;\n        }\n        // Add polygon to draw if available\n        if (draw.current) {\n            draw.current.add(featureData);\n        } else {\n            // Add as a layer if no draw control\n            if (!map.current.getSource(\"polygon\")) {\n                map.current.addSource(\"polygon\", {\n                    type: \"geojson\",\n                    data: featureData\n                });\n                map.current.addLayer({\n                    id: \"polygon-fill\",\n                    type: \"fill\",\n                    source: \"polygon\",\n                    paint: {\n                        \"fill-color\": \"#22c55e\",\n                        \"fill-opacity\": 0.3\n                    }\n                });\n                map.current.addLayer({\n                    id: \"polygon-outline\",\n                    type: \"line\",\n                    source: \"polygon\",\n                    paint: {\n                        \"line-color\": \"#16a34a\",\n                        \"line-width\": 2\n                    }\n                });\n            }\n        }\n        // Fit bounds to polygon\n        const coordinates = geometry.coordinates[0];\n        const bounds = coordinates.reduce((bounds, coord)=>bounds.extend(coord), new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().LngLatBounds)(coordinates[0], coordinates[0]));\n        map.current.fitBounds(bounds, {\n            padding: 50\n        });\n    }, [\n        mapLoaded,\n        initialPolygon\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative rounded-lg overflow-hidden \".concat(className),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: mapContainer,\n                className: \"w-full h-full\"\n            }, void 0, false, {\n                fileName: \"/Users/fabianandreshuertasreyes/nuwa-digital-twin/frontend/components/map/MapViewer.tsx\",\n                lineNumber: 172,\n                columnNumber: 7\n            }, this),\n            !mapLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"\n                }, void 0, false, {\n                    fileName: \"/Users/fabianandreshuertasreyes/nuwa-digital-twin/frontend/components/map/MapViewer.tsx\",\n                    lineNumber: 175,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/fabianandreshuertasreyes/nuwa-digital-twin/frontend/components/map/MapViewer.tsx\",\n                lineNumber: 174,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/fabianandreshuertasreyes/nuwa-digital-twin/frontend/components/map/MapViewer.tsx\",\n        lineNumber: 171,\n        columnNumber: 5\n    }, this);\n}\n_s(MapViewer, \"hNPfw3cXpgrbW8HRl+n6+wGkWRM=\");\n_c = MapViewer;\nvar _c;\n$RefreshReg$(_c, \"MapViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvbWFwL01hcFZpZXdlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDbkI7QUFDZTtBQUNWO0FBQ2tCO0FBWXhDLFNBQVNLLFVBQVUsS0FPakI7UUFQaUIsRUFDaENDLGdCQUFnQixFQUNoQkMsY0FBYyxFQUNkQyxTQUFTO1FBQUMsQ0FBQztRQUFTO0tBQU8sRUFDM0JDLE9BQU8sRUFBRSxFQUNUQyxtQkFBbUIsSUFBSSxFQUN2QkMsWUFBWSxrQkFBa0IsRUFDZixHQVBpQjs7SUFRaEMsTUFBTUMsZUFBZVgsNkNBQU1BLENBQWlCO0lBQzVDLE1BQU1ZLE1BQU1aLDZDQUFNQSxDQUFzQjtJQUN4QyxNQUFNYSxPQUFPYiw2Q0FBTUEsQ0FBb0I7SUFDdkMsTUFBTSxDQUFDYyxXQUFXQyxhQUFhLEdBQUdkLCtDQUFRQSxDQUFDO0lBRTNDRixnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ1ksYUFBYUssT0FBTyxJQUFJSixJQUFJSSxPQUFPLEVBQUU7UUFFMUMsTUFBTUMsUUFBUUMsOEZBQW9DO1FBQ2xELElBQUksQ0FBQ0QsT0FBTztZQUNWSSxRQUFRQyxLQUFLLENBQUM7WUFDZDtRQUNGO1FBRUFwQiw4REFBb0IsR0FBR2U7UUFFdkJMLElBQUlJLE9BQU8sR0FBRyxJQUFJZCxzREFBWSxDQUFDO1lBQzdCdUIsV0FBV2QsYUFBYUssT0FBTztZQUMvQlUsT0FBTztZQUNQbkIsUUFBUUE7WUFDUkMsTUFBTUE7UUFDUjtRQUVBLDBCQUEwQjtRQUMxQkksSUFBSUksT0FBTyxDQUFDVyxVQUFVLENBQUMsSUFBSXpCLG9FQUEwQixJQUFJO1FBQ3pEVSxJQUFJSSxPQUFPLENBQUNXLFVBQVUsQ0FBQyxJQUFJekIsK0RBQXFCLElBQUk7UUFFcEQsK0JBQStCO1FBQy9CLElBQUlPLGtCQUFrQjtZQUNwQkksS0FBS0csT0FBTyxHQUFHLElBQUliLDhEQUFVQSxDQUFDO2dCQUM1QjJCLHdCQUF3Qjtn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LFFBQ2pDLElBQUl0RCwrREFBcUIsQ0FDdkIwQyxXQUFXLENBQUMsRUFBRSxFQUNkQSxXQUFXLENBQUMsRUFBRTtRQUlsQmhDLElBQUlJLE9BQU8sQ0FBQzJDLFNBQVMsQ0FBQ0wsUUFBUTtZQUFFTSxTQUFTO1FBQUc7SUFDOUMsR0FBRztRQUFDOUM7UUFBV1I7S0FBZTtJQUU5QixxQkFDRSw4REFBQ3VEO1FBQUluRCxXQUFXLHVDQUFpRCxPQUFWQTs7MEJBQ3JELDhEQUFDbUQ7Z0JBQUlDLEtBQUtuRDtnQkFBY0QsV0FBVTs7Ozs7O1lBQ2pDLENBQUNJLDJCQUNBLDhEQUFDK0M7Z0JBQUluRCxXQUFVOzBCQUNiLDRFQUFDbUQ7b0JBQUluRCxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7OztBQUt6QjtHQWpLd0JOO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvbWFwL01hcFZpZXdlci50c3g/N2MyYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgbWFwYm94Z2wgZnJvbSAnbWFwYm94LWdsJ1xuaW1wb3J0IE1hcGJveERyYXcgZnJvbSAnQG1hcGJveC9tYXBib3gtZ2wtZHJhdydcbmltcG9ydCAnbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzcydcbmltcG9ydCAnQG1hcGJveC9tYXBib3gtZ2wtZHJhdy9kaXN0L21hcGJveC1nbC1kcmF3LmNzcydcbmltcG9ydCB0eXBlIHsgR2VvSlNPTlBvbHlnb24gfSBmcm9tICdAL3R5cGVzJ1xuXG5pbnRlcmZhY2UgTWFwVmlld2VyUHJvcHMge1xuICBvblBvbHlnb25DcmVhdGVkPzogKHBvbHlnb246IEdlb0pTT05Qb2x5Z29uKSA9PiB2b2lkXG4gIGluaXRpYWxQb2x5Z29uPzogR2VvSlNPTlBvbHlnb25cbiAgY2VudGVyPzogW251bWJlciwgbnVtYmVyXVxuICB6b29tPzogbnVtYmVyXG4gIHNob3dEcmF3Q29udHJvbHM/OiBib29sZWFuXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYXBWaWV3ZXIoe1xuICBvblBvbHlnb25DcmVhdGVkLFxuICBpbml0aWFsUG9seWdvbixcbiAgY2VudGVyID0gWy03NS4wNjM5LCA0LjkyMTRdLCAvLyBMaWJhbm8sIFRvbGltYVxuICB6b29tID0gMTQsXG4gIHNob3dEcmF3Q29udHJvbHMgPSB0cnVlLFxuICBjbGFzc05hbWUgPSAndy1mdWxsIGgtWzUwMHB4XScsXG59OiBNYXBWaWV3ZXJQcm9wcykge1xuICBjb25zdCBtYXBDb250YWluZXIgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IG1hcCA9IHVzZVJlZjxtYXBib3hnbC5NYXAgfCBudWxsPihudWxsKVxuICBjb25zdCBkcmF3ID0gdXNlUmVmPE1hcGJveERyYXcgfCBudWxsPihudWxsKVxuICBjb25zdCBbbWFwTG9hZGVkLCBzZXRNYXBMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1hcENvbnRhaW5lci5jdXJyZW50IHx8IG1hcC5jdXJyZW50KSByZXR1cm5cblxuICAgIGNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgY29uc29sZS5lcnJvcignTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIG5vdCBzZXQnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSB0b2tlblxuXG4gICAgbWFwLmN1cnJlbnQgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAgICAgIGNvbnRhaW5lcjogbWFwQ29udGFpbmVyLmN1cnJlbnQsXG4gICAgICBzdHlsZTogJ21hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXN0cmVldHMtdjEyJyxcbiAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgem9vbTogem9vbSxcbiAgICB9KVxuXG4gICAgLy8gQWRkIG5hdmlnYXRpb24gY29udHJvbHNcbiAgICBtYXAuY3VycmVudC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5OYXZpZ2F0aW9uQ29udHJvbCgpLCAndG9wLXJpZ2h0JylcbiAgICBtYXAuY3VycmVudC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5TY2FsZUNvbnRyb2woKSwgJ2JvdHRvbS1sZWZ0JylcblxuICAgIC8vIEFkZCBkcmF3aW5nIHRvb2xzIGlmIGVuYWJsZWRcbiAgICBpZiAoc2hvd0RyYXdDb250cm9scykge1xuICAgICAgZHJhdy5jdXJyZW50ID0gbmV3IE1hcGJveERyYXcoe1xuICAgICAgICBkaXNwbGF5Q29udHJvbHNEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgY29udHJvbHM6IHtcbiAgICAgICAgICBwb2x5Z29uOiB0cnVlLFxuICAgICAgICAgIHRyYXNoOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0TW9kZTogJ3NpbXBsZV9zZWxlY3QnLFxuICAgICAgfSlcblxuICAgICAgbWFwLmN1cnJlbnQuYWRkQ29udHJvbChkcmF3LmN1cnJlbnQsICd0b3AtbGVmdCcpXG5cbiAgICAgIC8vIEhhbmRsZSBwb2x5Z29uIGNyZWF0aW9uXG4gICAgICBtYXAuY3VycmVudC5vbignZHJhdy5jcmVhdGUnLCAoZTogeyBmZWF0dXJlczogR2VvSlNPTi5GZWF0dXJlW10gfSkgPT4ge1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gZS5mZWF0dXJlc1swXVxuICAgICAgICBpZiAoZmVhdHVyZSAmJiBmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJyAmJiBvblBvbHlnb25DcmVhdGVkKSB7XG4gICAgICAgICAgb25Qb2x5Z29uQ3JlYXRlZChmZWF0dXJlLmdlb21ldHJ5IGFzIEdlb0pTT05Qb2x5Z29uKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBtYXAuY3VycmVudC5vbignZHJhdy51cGRhdGUnLCAoZTogeyBmZWF0dXJlczogR2VvSlNPTi5GZWF0dXJlW10gfSkgPT4ge1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gZS5mZWF0dXJlc1swXVxuICAgICAgICBpZiAoZmVhdHVyZSAmJiBmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT09ICdQb2x5Z29uJyAmJiBvblBvbHlnb25DcmVhdGVkKSB7XG4gICAgICAgICAgb25Qb2x5Z29uQ3JlYXRlZChmZWF0dXJlLmdlb21ldHJ5IGFzIEdlb0pTT05Qb2x5Z29uKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIG1hcC5jdXJyZW50Lm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAgc2V0TWFwTG9hZGVkKHRydWUpXG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtYXAuY3VycmVudD8ucmVtb3ZlKClcbiAgICAgIG1hcC5jdXJyZW50ID0gbnVsbFxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8gTG9hZCBpbml0aWFsIHBvbHlnb24gd2hlbiBtYXAgaXMgbG9hZGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYXBMb2FkZWQgfHwgIWluaXRpYWxQb2x5Z29uIHx8ICFtYXAuY3VycmVudCkgcmV0dXJuXG5cbiAgICAvLyBFeHRyYWN0IGdlb21ldHJ5IC0gaGFuZGxlIGJvdGggRmVhdHVyZSBhbmQgZGlyZWN0IFBvbHlnb24gdHlwZXNcbiAgICBsZXQgZ2VvbWV0cnk6IHsgdHlwZTogc3RyaW5nOyBjb29yZGluYXRlczogbnVtYmVyW11bXVtdIH1cbiAgICBsZXQgZmVhdHVyZURhdGE6IEdlb0pTT04uRmVhdHVyZVxuXG4gICAgaWYgKCdnZW9tZXRyeScgaW4gaW5pdGlhbFBvbHlnb24gJiYgaW5pdGlhbFBvbHlnb24uZ2VvbWV0cnkpIHtcbiAgICAgIC8vIEl0J3MgYSBGZWF0dXJlIHR5cGVcbiAgICAgIGdlb21ldHJ5ID0gaW5pdGlhbFBvbHlnb24uZ2VvbWV0cnkgYXMgeyB0eXBlOiBzdHJpbmc7IGNvb3JkaW5hdGVzOiBudW1iZXJbXVtdW10gfVxuICAgICAgZmVhdHVyZURhdGEgPSBpbml0aWFsUG9seWdvbiBhcyB1bmtub3duIGFzIEdlb0pTT04uRmVhdHVyZVxuICAgIH0gZWxzZSBpZiAoJ2Nvb3JkaW5hdGVzJyBpbiBpbml0aWFsUG9seWdvbikge1xuICAgICAgLy8gSXQncyBhIGRpcmVjdCBQb2x5Z29uIHR5cGVcbiAgICAgIGdlb21ldHJ5ID0gaW5pdGlhbFBvbHlnb24gYXMgdW5rbm93biBhcyB7IHR5cGU6IHN0cmluZzsgY29vcmRpbmF0ZXM6IG51bWJlcltdW11bXSB9XG4gICAgICBmZWF0dXJlRGF0YSA9IHtcbiAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgfSBhcyBHZW9KU09OLkZlYXR1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBwb2x5Z29uIGZvcm1hdCcpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBjb29yZGluYXRlcyBleGlzdFxuICAgIGlmICghZ2VvbWV0cnkuY29vcmRpbmF0ZXMgfHwgIWdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdIHx8IGdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBwb2x5Z29uIGNvb3JkaW5hdGVzJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEFkZCBwb2x5Z29uIHRvIGRyYXcgaWYgYXZhaWxhYmxlXG4gICAgaWYgKGRyYXcuY3VycmVudCkge1xuICAgICAgZHJhdy5jdXJyZW50LmFkZChmZWF0dXJlRGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWRkIGFzIGEgbGF5ZXIgaWYgbm8gZHJhdyBjb250cm9sXG4gICAgICBpZiAoIW1hcC5jdXJyZW50LmdldFNvdXJjZSgncG9seWdvbicpKSB7XG4gICAgICAgIG1hcC5jdXJyZW50LmFkZFNvdXJjZSgncG9seWdvbicsIHtcbiAgICAgICAgICB0eXBlOiAnZ2VvanNvbicsXG4gICAgICAgICAgZGF0YTogZmVhdHVyZURhdGEsXG4gICAgICAgIH0pXG5cbiAgICAgICAgbWFwLmN1cnJlbnQuYWRkTGF5ZXIoe1xuICAgICAgICAgIGlkOiAncG9seWdvbi1maWxsJyxcbiAgICAgICAgICB0eXBlOiAnZmlsbCcsXG4gICAgICAgICAgc291cmNlOiAncG9seWdvbicsXG4gICAgICAgICAgcGFpbnQ6IHtcbiAgICAgICAgICAgICdmaWxsLWNvbG9yJzogJyMyMmM1NWUnLFxuICAgICAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IDAuMyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuXG4gICAgICAgIG1hcC5jdXJyZW50LmFkZExheWVyKHtcbiAgICAgICAgICBpZDogJ3BvbHlnb24tb3V0bGluZScsXG4gICAgICAgICAgdHlwZTogJ2xpbmUnLFxuICAgICAgICAgIHNvdXJjZTogJ3BvbHlnb24nLFxuICAgICAgICAgIHBhaW50OiB7XG4gICAgICAgICAgICAnbGluZS1jb2xvcic6ICcjMTZhMzRhJyxcbiAgICAgICAgICAgICdsaW5lLXdpZHRoJzogMixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpdCBib3VuZHMgdG8gcG9seWdvblxuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1cbiAgICBjb25zdCBib3VuZHMgPSBjb29yZGluYXRlcy5yZWR1Y2UoXG4gICAgICAoYm91bmRzLCBjb29yZCkgPT4gYm91bmRzLmV4dGVuZChjb29yZCBhcyBbbnVtYmVyLCBudW1iZXJdKSxcbiAgICAgIG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoXG4gICAgICAgIGNvb3JkaW5hdGVzWzBdIGFzIFtudW1iZXIsIG51bWJlcl0sXG4gICAgICAgIGNvb3JkaW5hdGVzWzBdIGFzIFtudW1iZXIsIG51bWJlcl1cbiAgICAgIClcbiAgICApXG5cbiAgICBtYXAuY3VycmVudC5maXRCb3VuZHMoYm91bmRzLCB7IHBhZGRpbmc6IDUwIH0pXG4gIH0sIFttYXBMb2FkZWQsIGluaXRpYWxQb2x5Z29uXSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gJHtjbGFzc05hbWV9YH0+XG4gICAgICA8ZGl2IHJlZj17bWFwQ29udGFpbmVyfSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsXCIgLz5cbiAgICAgIHshbWFwTG9hZGVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktMTAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItZ3JlZW4tNjAwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJtYXBib3hnbCIsIk1hcGJveERyYXciLCJNYXBWaWV3ZXIiLCJvblBvbHlnb25DcmVhdGVkIiwiaW5pdGlhbFBvbHlnb24iLCJjZW50ZXIiLCJ6b29tIiwic2hvd0RyYXdDb250cm9scyIsImNsYXNzTmFtZSIsIm1hcENvbnRhaW5lciIsIm1hcCIsImRyYXciLCJtYXBMb2FkZWQiLCJzZXRNYXBMb2FkZWQiLCJjdXJyZW50IiwidG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIiwiY29uc29sZSIsImVycm9yIiwiYWNjZXNzVG9rZW4iLCJNYXAiLCJjb250YWluZXIiLCJzdHlsZSIsImFkZENvbnRyb2wiLCJOYXZpZ2F0aW9uQ29udHJvbCIsIlNjYWxlQ29udHJvbCIsImRpc3BsYXlDb250cm9sc0RlZmF1bHQiLCJjb250cm9scyIsInBvbHlnb24iLCJ0cmFzaCIsImRlZmF1bHRNb2RlIiwib24iLCJlIiwiZmVhdHVyZSIsImZlYXR1cmVzIiwiZ2VvbWV0cnkiLCJ0eXBlIiwicmVtb3ZlIiwiZmVhdHVyZURhdGEiLCJwcm9wZXJ0aWVzIiwiY29vcmRpbmF0ZXMiLCJsZW5ndGgiLCJhZGQiLCJnZXRTb3VyY2UiLCJhZGRTb3VyY2UiLCJkYXRhIiwiYWRkTGF5ZXIiLCJpZCIsInNvdXJjZSIsInBhaW50IiwiYm91bmRzIiwicmVkdWNlIiwiY29vcmQiLCJleHRlbmQiLCJMbmdMYXRCb3VuZHMiLCJmaXRCb3VuZHMiLCJwYWRkaW5nIiwiZGl2IiwicmVmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/map/MapViewer.tsx\n"));

/***/ })

});